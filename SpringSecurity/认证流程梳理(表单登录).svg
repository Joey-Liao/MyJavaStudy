<svg id="SvgjsSvg1006" width="1970" height="1061" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1086" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1087" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1090" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1091" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1098" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1099" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1102" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1103" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1110" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1111" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1130" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1131" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1134" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1135" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1138" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1139" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1142" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1143" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1146" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1147" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1150" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1151" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1154" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1155" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1169" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1170" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1173" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1174" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1177" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1178" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1191" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1192" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1195" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1196" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1203" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1204" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1215" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1216" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1223" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1224" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(348,127)"><path id="SvgjsPath1009" d="M 144 30L 144 821" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1010" d="M 0 0L 288 0L 288 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1011"><foreignObject id="SvgjsForeignObject1012" width="268" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 268px; word-break: break-word; border: 0px;">UsernamePasswordAuthenticationFilter</div></foreignObject></g></g><g id="SvgjsG1013" transform="translate(718,127)"><path id="SvgjsPath1014" d="M 91 30L 91 813" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1015" d="M 0 0L 182 0L 182 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1016"><foreignObject id="SvgjsForeignObject1017" width="162" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 162px; word-break: break-word; border: 0px;">(I) AuthenticationManager</div></foreignObject></g></g><g id="SvgjsG1018" transform="translate(1083,127)"><path id="SvgjsPath1019" d="M 89.5 30L 89.5 727" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1020" d="M 0 0L 179 0L 179 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1021"><foreignObject id="SvgjsForeignObject1022" width="159" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 159px; word-break: break-word; border: 0px;">(I) AuthenticationProvider</div></foreignObject></g></g><g id="SvgjsG1023" transform="translate(1365,130)"><path id="SvgjsPath1024" d="M 76.5 30L 76.5 681" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1025" d="M 0 0L 153 0L 153 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1026"><foreignObject id="SvgjsForeignObject1027" width="133" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 133px; word-break: break-word; border: 0px;">(I)UserDetailsService</div></foreignObject></g></g><g id="SvgjsG1028" transform="translate(1569,127)"><path id="SvgjsPath1029" d="M 87.5 30L 87.5 669" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1030" d="M 0 0L 175 0L 175 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1031"><foreignObject id="SvgjsForeignObject1032" width="155" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 155px; word-break: break-word; border: 0px;">JdbcDaoImpl UDS实现类</div></foreignObject></g></g><g id="SvgjsG1033" transform="translate(1833,127)"><path id="SvgjsPath1034" d="M 56 30L 56 675" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1035" d="M 0 0L 112 0L 112 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1036"><foreignObject id="SvgjsForeignObject1037" width="92" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 92px; word-break: break-word; border: 0px;">Authentication</div></foreignObject></g></g><g id="SvgjsG1038" transform="translate(475.8888888888889,220)"><path id="SvgjsPath1039" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 682Q 30 686 26 686L 4 686Q 0 686 0 682L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1040" transform="translate(794,220)"><path id="SvgjsPath1041" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 676Q 30 680 26 680L 4 680Q 0 680 0 676L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1042" transform="translate(542,232)"><path id="SvgjsPath1043" d="M 0 0L 194 0L 194 23L 0 23Z" stroke="none" fill="none"></path><g id="SvgjsG1044"><foreignObject id="SvgjsForeignObject1045" width="194" height="32" x="0" style="overflow:visible;" y="-4.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 194px; word-break: break-word; border: 0px;">this.getAuthenticationManager().<b><font color="#cc6600">authenticate</font></b>(authRequest)</div></foreignObject></g></g><g id="SvgjsG1046" transform="translate(678,25)"><path id="SvgjsPath1047" d="M 0 0L 293 0L 309 16L 309 82L 0 82L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1048" d="M 293 0L 293 16L 309 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1049" d="M 0 0L 293 0L 309 16L 309 82L 0 82L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1050"><foreignObject id="SvgjsForeignObject1051" width="289" height="80" x="10" style="overflow:visible;" y="1"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 289px; word-break: break-word; border: 0px;">实现类：ProviderManager<div>private List&lt;<font color="#cc6600">AuthenticationProvider</font>&gt; providers<div></div></div><div>不同的登录方式，认证逻辑是不同的。所以会产生Provider集合，<font color="#ff3333">AuthenticationManager负责收集所有的AuthenticationProvider</font></div></div></foreignObject></g></g><g id="SvgjsG1052" transform="translate(1038,25)"><path id="SvgjsPath1053" d="M 0 0L 304 0L 320 16L 320 83L 0 83L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1054" d="M 304 0L 304 16L 320 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1055" d="M 0 0L 304 0L 320 16L 320 83L 0 83L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1056"><foreignObject id="SvgjsForeignObject1057" width="300" height="80" x="10" style="overflow:visible;" y="1.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 300px; word-break: break-word; border: 0px;"><div></div>不同认证逻辑的Provider的具体实现皆继承至：抽象类：<font color="#cc6600">AbstractUserDetailsAuthenticationProvider</font><div><font color="#000000">如：DaoAuthenticationProvider，并由这些子类重写</font>retrieveUser()，供父类方法：authenticate()调用<font color="#cc6600"><div></div></font><div style="padding-top:16px;"></div></div></div></foreignObject></g></g><g id="SvgjsG1058" transform="translate(1157.5,240)"><path id="SvgjsPath1059" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 583Q 30 587 26 587L 4 587Q 0 587 0 583L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1060" transform="translate(854.5,249)"><path id="SvgjsPath1061" d="M 0 0L 265 0L 265 22L 0 22Z" stroke="none" fill="none"></path><g id="SvgjsG1062"><foreignObject id="SvgjsForeignObject1063" width="265" height="16" x="0" style="overflow:visible;" y="3"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 265px; word-break: break-word; border: 0px;"><font color="#cc6600">authenticate</font>(Authentication authentication)</div></foreignObject></g></g><g id="SvgjsG1064" transform="translate(1427.5,384)"><path id="SvgjsPath1065" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 323Q 30 327 26 327L 4 327Q 0 327 0 323L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1066" transform="translate(1192.5,255)"><path id="SvgjsPath1067" d="M 0 0L 235 0L 235 37L 0 37Z" stroke="none" fill="none"></path><g id="SvgjsG1068"><foreignObject id="SvgjsForeignObject1069" width="235" height="48" x="0" style="overflow:visible;" y="-5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 235px; word-break: break-word; border: 0px;">在抽象类实现的<font color="#cc6600">authenticate</font>方法中调用子类<font color="#cc6600">retrieveUser</font>方法用以获取<font color="#cc6600">UserDetails</font></div></foreignObject></g></g><g id="SvgjsG1070" transform="translate(1192.5,333)"><path id="SvgjsPath1071" d="M 0 0L 246.5 0L 246.5 59L 0 59Z" stroke="none" fill="none"></path><g id="SvgjsG1072"><foreignObject id="SvgjsForeignObject1073" width="246.5" height="64" x="0" style="overflow:visible;" y="-2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 246.5px; word-break: break-word; border: 0px;">在子类<font color="#cc6600">retrieveUser</font>方法中调用<font color="#cc6600">getUserDetailsService()</font>获取<font color="#cc6600">UserDetails</font><font color="#000000">的接口实现，并调用</font><font color="#cc6600">loadUserByUsername(..)</font></div></foreignObject></g></g><g id="SvgjsG1074" transform="translate(1644,429)"><path id="SvgjsPath1075" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 225Q 30 229 26 229L 4 229Q 0 229 0 225L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1076" transform="translate(1464,403)"><path id="SvgjsPath1077" d="M 0 0L 160 0L 160 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1078"><foreignObject id="SvgjsForeignObject1079" width="160" height="16" x="0" style="overflow:visible;" y="12"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 160px; word-break: break-word; border: 0px;">loadUserByUsername(..)</div></foreignObject></g></g><g id="SvgjsG1080" transform="translate(1681,403)"><path id="SvgjsPath1081" d="M 0 0L 160 0L 160 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1082"><foreignObject id="SvgjsForeignObject1083" width="160" height="48" x="0" style="overflow:visible;" y="-4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 160px; word-break: break-word; border: 0px;">loadUser<font color="#cc6600">s</font>ByUsername(..)获取UserDetails实现类集合</div></foreignObject></g></g><g id="SvgjsG1084"><path id="SvgjsPath1085" d="M1674 453L1704 453L1704 477L1674 477" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1086)"></path></g><g id="SvgjsG1088"><path id="SvgjsPath1089" d="M1674 508L1704 508L1704 548L1674 548" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1090)"></path></g><g id="SvgjsG1092" transform="translate(1709,501)"><path id="SvgjsPath1093" d="M 0 0L 153 0L 153 42L 0 42Z" stroke="none" fill="none"></path><g id="SvgjsG1094"><foreignObject id="SvgjsForeignObject1095" width="153" height="64" x="0" style="overflow:visible;" y="-11"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 153px; word-break: break-word; border: 0px;">基于查询出的数据，再调用<font color="#cc6600">createUserDetails</font>(..)组装成<font color="#ff0000">UserDetail</font>的子类，并返回</div></foreignObject></g></g><g id="SvgjsG1096"><path id="SvgjsPath1097" d="M1457 444L1550.5 444L1550.5 444L1644 444" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1098)"></path></g><g id="SvgjsG1100"><path id="SvgjsPath1101" d="M1644 605L1550.5 605L1550.5 605L1457 605" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1102)"></path></g><g id="SvgjsG1104" transform="translate(1302,558)"><path id="SvgjsPath1105" d="M 0 0L 263 0L 263 38L 0 38Z" stroke="none" fill="none"></path><g id="SvgjsG1106"><foreignObject id="SvgjsForeignObject1107" width="263" height="16" x="0" style="overflow:visible;" y="11"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 263px; word-break: break-word; border: 0px;">返回携带数据的<font color="#ff0000">UserDetail的子类</font></div></foreignObject></g></g><g id="SvgjsG1108"><path id="SvgjsPath1109" d="M1187 303.6889692585895L1217 303.6889692585895L1217 330.22603978300185L1187 330.22603978300185" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1110)"></path></g><g id="SvgjsG1112" transform="translate(1224.5,619)"><path id="SvgjsPath1113" d="M 0 0L 69 0L 69 23L 0 23Z" stroke="none" fill="none"></path><g id="SvgjsG1114"><foreignObject id="SvgjsForeignObject1115" width="69" height="16" x="0" style="overflow:visible;" y="3.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 69px; word-break: break-word; border: 0px;">preCheck</div></foreignObject></g></g><g id="SvgjsG1116" transform="translate(1224.5,648)"><path id="SvgjsPath1117" d="M 0 0L 199.5 0L 199.5 59L 0 59Z" stroke="none" fill="none"></path><g id="SvgjsG1118"><foreignObject id="SvgjsForeignObject1119" width="199.5" height="48" x="0" style="overflow:visible;" y="5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 199.5px; word-break: break-word; border: 0px;">调用实现类中的<font color="#cc6600">additionalAuthenticationChecks()</font>方法,做一些自定义校验</div></foreignObject></g></g><g id="SvgjsG1120" transform="translate(1224.5,707)"><path id="SvgjsPath1121" d="M 0 0L 77 0L 77 25L 0 25Z" stroke="none" fill="none"></path><g id="SvgjsG1122"><foreignObject id="SvgjsForeignObject1123" width="77" height="16" x="0" style="overflow:visible;" y="4.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 77px; word-break: break-word; border: 0px;">postCheck</div></foreignObject></g></g><g id="SvgjsG1124" transform="translate(1224.5,732)"><path id="SvgjsPath1125" d="M 0 0L 208.5 0L 208.5 60L 0 60Z" stroke="none" fill="none"></path><g id="SvgjsG1126"><foreignObject id="SvgjsForeignObject1127" width="208.5" height="48" x="0" style="overflow:visible;" y="6"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 208.5px; word-break: break-word; border: 0px;"><font color="#cc6600">createSuccessAuthentication()</font>将验证通过的用户信息(<font color="#cc6600">UserDetails</font>)，组装成<font color="#ff0000">已认证的Authentication</font></div></foreignObject></g></g><g id="SvgjsG1128"><path id="SvgjsPath1129" d="M1428 606L1307.5 606L1307.5 606L1187 606" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1130)"></path></g><g id="SvgjsG1132"><path id="SvgjsPath1133" d="M1187 620L1217 620L1217 646L1187 646" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1134)"></path></g><g id="SvgjsG1136"><path id="SvgjsPath1137" d="M1187 661L1217 661L1217 688L1187 688" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1138)"></path></g><g id="SvgjsG1140"><path id="SvgjsPath1141" d="M1187 708L1217 708L1217 733L1187 733" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1142)"></path></g><g id="SvgjsG1144"><path id="SvgjsPath1145" d="M1187 748L1217 748L1217 775L1187 775" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1146)"></path></g><g id="SvgjsG1148"><path id="SvgjsPath1149" d="M1187 398L1307.5 398L1307.5 398L1428 398" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1150)"></path></g><g id="SvgjsG1152"><path id="SvgjsPath1153" d="M1158 806L991 806L991 806L824 806" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1154)"></path></g><g id="SvgjsG1156" transform="translate(687,781)"><path id="SvgjsPath1157" d="M 0 0L 235 0L 235 21L 0 21Z" stroke="none" fill="none"></path><g id="SvgjsG1158"><foreignObject id="SvgjsForeignObject1159" width="235" height="16" x="0" style="overflow:visible;" y="2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 235px; word-break: break-word; border: 0px;">返回组装的Authentication</div></foreignObject></g></g><g id="SvgjsG1160" transform="translate(25,127)"><path id="SvgjsPath1161" d="M 132 30L 132 909" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1162" d="M 0 0L 264 0L 264 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1163"><foreignObject id="SvgjsForeignObject1164" width="244" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 16px; width: 244px; word-break: break-word; border: 0px;">AbstractAuthenticationProcessingFilter</div></foreignObject></g></g><g id="SvgjsG1165" transform="translate(142,176)"><path id="SvgjsPath1166" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 798Q 30 802 26 802L 4 802Q 0 802 0 798L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1167"><path id="SvgjsPath1168" d="M824 275L991 275L991 275L1158 275" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1169)"></path></g><g id="SvgjsG1171"><path id="SvgjsPath1172" d="M505.8888888888889 261L649.9444444444445 261L649.9444444444445 261L794 261" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1173)"></path></g><g id="SvgjsG1175"><path id="SvgjsPath1176" d="M172 233L323.94444444444446 233L323.94444444444446 233L475.8888888888889 233" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1177)"></path></g><g id="SvgjsG1179" transform="translate(172,207)"><path id="SvgjsPath1180" d="M 0 0L 305 0L 305 25L 0 25Z" stroke="none" fill="none"></path><g id="SvgjsG1181"><foreignObject id="SvgjsForeignObject1182" width="305" height="16" x="0" style="overflow:visible;" y="4.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 305px; word-break: break-word; border: 0px;"><font color="#cc6600">doFilter</font>中调用子类实现的<font color="#cc6600">attemptAuthentication(..)</font></div></foreignObject></g></g><g id="SvgjsG1183" transform="translate(344,57)"><path id="SvgjsPath1184" d="M 0 0L 280 0L 296 16L 296 50L 0 50L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1185" d="M 280 0L 280 16L 296 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1186" d="M 0 0L 280 0L 296 16L 296 50L 0 50L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1187"><foreignObject id="SvgjsForeignObject1188" width="276" height="32" x="10" style="overflow:visible;" y="9"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 276px; word-break: break-word; border: 0px;">作为<font color="#cc6600">AbstractAuthenticationProcessingFilter</font>的子类过滤器，提供用户名密码的认证流程</div></foreignObject></g></g><g id="SvgjsG1189"><path id="SvgjsPath1190" d="M794 806L649.9444444444445 806L649.9444444444445 806L505.8888888888889 806" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1191)"></path></g><g id="SvgjsG1193"><path id="SvgjsPath1194" d="M475.8888888888889 806L323.94444444444446 806L323.94444444444446 806L172 806" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1195)"></path></g><g id="SvgjsG1197" transform="translate(370,781)"><path id="SvgjsPath1198" d="M 0 0L 235 0L 235 21L 0 21Z" stroke="none" fill="none"></path><g id="SvgjsG1199"><foreignObject id="SvgjsForeignObject1200" width="235" height="16" x="0" style="overflow:visible;" y="2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 235px; word-break: break-word; border: 0px;">返回组装的Authentication</div></foreignObject></g></g><g id="SvgjsG1201"><path id="SvgjsPath1202" d="M172 824L202 824L202 851L172 851" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1203)"></path></g><g id="SvgjsG1205" transform="translate(214,823)"><path id="SvgjsPath1206" d="M 0 0L 243 0L 243 47L 0 47Z" stroke="none" fill="none"></path><g id="SvgjsG1207"><foreignObject id="SvgjsForeignObject1208" width="243" height="48" x="0" style="overflow:visible;" y="-0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 243px; word-break: break-word; border: 0px;">如果认证失败，调用<font color="#cc6600">unsuccessfulAuthentication(..)</font>该方法内部调用默认or自定义的失败处理器</div></foreignObject></g></g><g id="SvgjsG1209" transform="translate(214,925)"><path id="SvgjsPath1210" d="M 0 0L 262 0L 262 49L 0 49Z" stroke="none" fill="none"></path><g id="SvgjsG1211"><foreignObject id="SvgjsForeignObject1212" width="262" height="48" x="0" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 262px; word-break: break-word; border: 0px;">如果认证成功，调用<font color="#cc6600">successfulAuthentication(..)</font>该方法内部调用默认or自定义的成功处理器</div></foreignObject></g></g><g id="SvgjsG1213"><path id="SvgjsPath1214" d="M172 879L202 879L202 909L172 909" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1215)"></path></g><g id="SvgjsG1217" transform="translate(209,880)"><path id="SvgjsPath1218" d="M 0 0L 241 0L 241 33L 0 33Z" stroke="none" fill="none"></path><g id="SvgjsG1219"><foreignObject id="SvgjsForeignObject1220" width="241" height="32" x="0" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 241px; word-break: break-word; border: 0px;">继续调用链上的其他过滤器chain.doFilter(request, response);</div></foreignObject></g></g><g id="SvgjsG1221"><path id="SvgjsPath1222" d="M172 929L202 929L202 960L172 960" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1223)"></path></g></svg>